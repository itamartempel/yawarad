{"swagger":"2.0","info":{"title":"YAWARAD API for the lazy DBA","description":"Set of utiles for creating and managing databases","version":""},"host":"localhost:8081","basePath":"/api","consumes":["application/json","application/xml","application/gob","application/x-gob"],"produces":["application/json","application/xml","application/gob","application/x-gob"],"paths":{"/v1/cluster-branching/branches":{"get":{"tags":["cluster-branching"],"summary":"list-branches cluster-branching","description":"Retrive branches","operationId":"cluster-branching#list-branches","produces":["application/vnd.cluster-branch+json; type=collection"],"parameters":[{"name":"cluster_name","in":"query","description":"Filter branch by cluster name (contains)","required":false,"type":"string"},{"name":"from_time","in":"query","description":"Filter cluster branch by retriving all branch that was created after the giving value (Epoch time in milliseconds)","required":false,"type":"integer"},{"name":"limit","in":"query","description":"limit the result set by giving value (default is 1000 )","required":false,"type":"integer","default":1000,"maximum":1000},{"name":"requestor","in":"query","description":"Filter branches by username of the reuqstor(contains)","required":false,"type":"string"},{"name":"skip","in":"query","description":"For pagenation, skip results by giving value","required":false,"type":"integer"},{"name":"status","in":"query","description":"Filter branches by branch status","required":false,"type":"string","enum":["creating","updateing","active","grace","expired","deleted"]},{"name":"team","in":"query","description":"Filter branches by team name (contains)","required":false,"type":"string"},{"name":"to_time","in":"query","description":"Filter cluster branch by retriving all branch that was created before the giving value (Epoch time in milliseconds)","required":false,"type":"integer"},{"name":"type","in":"query","description":"Filter branches by branch type","required":false,"type":"string","enum":["dev","dr"]}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Cluster-BranchCollection"}}}},"put":{"tags":["cluster-branching"],"summary":"update-branch cluster-branching","description":"Create a new branch","operationId":"cluster-branching#update-branch","produces":["application/vnd.branch-request+json"],"parameters":[{"name":"payload","in":"body","description":"UpdateBranchPayload defind an update request on existing branch","required":true,"schema":{"$ref":"#/definitions/UpdateBranchPayload"}}],"responses":{"202":{"description":"Accepted","schema":{"$ref":"#/definitions/Branch-Request"}},"400":{"description":"Bad Request"},"422":{"description":"Unprocessable Entity"}}},"post":{"tags":["cluster-branching"],"summary":"create-branch cluster-branching","description":"Create a new branch","operationId":"cluster-branching#create-branch","produces":["application/vnd.branch-request+json"],"parameters":[{"name":"payload","in":"body","description":"CreateBranchPayload defind a new branch request","required":true,"schema":{"$ref":"#/definitions/CreateBranchPayload"}}],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/Branch-Request"}},"400":{"description":"Bad Request"},"422":{"description":"Unprocessable Entity"}}}},"/v1/cluster-branching/branches/{branch_id}":{"get":{"tags":["cluster-branching"],"summary":"show-branche cluster-branching","description":"Retrieve single cluster branch by id.","operationId":"cluster-branching#show-branche","produces":["application/vnd.cluster-for-branching+json"],"parameters":[{"name":"branch_id","in":"path","description":"The branch id to show","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Cluster-For-Branching"}},"404":{"description":"If branch id does not exists"}}}},"/v1/cluster-branching/clusters":{"get":{"tags":["cluster-branching"],"summary":"list-clusters cluster-branching","description":"Retrieve all Available cluster that can be branch.","operationId":"cluster-branching#list-clusters","produces":["application/vnd.cluster-for-branching+json; type=collection"],"parameters":[{"name":"cluster_type","in":"query","required":false,"type":"string","enum":["mysql","mongodb"]}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Cluster-For-BranchingCollection"}}}}},"/v1/cluster-branching/clusters/{cluster_name}":{"get":{"tags":["cluster-branching"],"summary":"show-cluster cluster-branching","description":"Retrieve single cluster to be branch by name.","operationId":"cluster-branching#show-cluster","produces":["application/vnd.cluster-for-branching+json"],"parameters":[{"name":"cluster_name","in":"path","description":"The cluster name to show","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Cluster-For-Branching"}},"404":{"description":"If cluster name does not exists"}}}},"/v1/cluster-branching/clusters/{cluster_name}/branches":{"get":{"tags":["cluster-branching"],"summary":"list-cluster-branches cluster-branching","description":"Retrive branches of a specific cluster","operationId":"cluster-branching#list-cluster-branches","produces":["application/vnd.cluster-branch+json; type=collection"],"parameters":[{"name":"cluster_name","in":"path","description":"The cluster name to show","required":true,"type":"string"},{"name":"from_time","in":"query","description":"Filter cluster branch by retriving all branch that was created after the giving value (Epoch time in milliseconds)","required":false,"type":"integer"},{"name":"limit","in":"query","description":"limit the result set by giving value (default is 1000 )","required":false,"type":"integer","default":1000,"maximum":1000},{"name":"requestor","in":"query","description":"Filter branches by username of the reuqstor(contains)","required":false,"type":"string"},{"name":"skip","in":"query","description":"For pagenation, skip results by giving value","required":false,"type":"integer"},{"name":"status","in":"query","description":"Filter branches by branch status","required":false,"type":"string","enum":["creating","updateing","active","grace","expired","deleted"]},{"name":"team","in":"query","description":"Filter branches by team name (contains)","required":false,"type":"string"},{"name":"to_time","in":"query","description":"Filter cluster branch by retriving all branch that was created before the giving value (Epoch time in milliseconds)","required":false,"type":"integer"},{"name":"type","in":"query","description":"Filter branches by branch type","required":false,"type":"string","enum":["dev","dr"]}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Cluster-BranchCollection"}},"404":{"description":"If cluster name does not exists"}}}},"/v1/cluster-branching/clusters/{cluster_name}/snapshots":{"get":{"tags":["cluster-branching"],"summary":"list-cluster-snapshots cluster-branching","description":"Retrive snapshots of a specific cluster","operationId":"cluster-branching#list-cluster-snapshots","produces":["application/vnd.cluster-snapshot+json; type=collection"],"parameters":[{"name":"cluster_name","in":"path","description":"The cluster name to show","required":true,"type":"string"},{"name":"from_time","in":"query","description":"Filter cluster snapshot by retriving all snapshot that was created after the giving value (Epoch time in milliseconds)","required":false,"type":"integer"},{"name":"limit","in":"query","description":"limit the result set by giving value (default is 1000)","required":false,"type":"integer","default":1000,"maximum":1000},{"name":"skip","in":"query","description":"For pagenation, skip results by giving value","required":false,"type":"integer"},{"name":"to_time","in":"query","description":"Filter cluster snapshot by retriving all snapshot that was created before the giving value (Epoch time in milliseconds)","required":false,"type":"integer"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Cluster-SnapshotCollection"}},"404":{"description":"If cluster name does not exists"}}}},"/v1/cluster-branching/requests":{"get":{"tags":["cluster-branching"],"summary":"list-requests cluster-branching","description":"Retrive requests","operationId":"cluster-branching#list-requests","produces":["application/vnd.branch-request+json; type=collection"],"parameters":[{"name":"cluster_name","in":"query","description":"Filter request by cluster name (contains)","required":false,"type":"string"},{"name":"from_time","in":"query","description":"Filter requests that was created after the giving value (Epoch time in milliseconds)","required":false,"type":"integer"},{"name":"limit","in":"query","description":"limit the result set by giving value (default is 1000 )","required":false,"type":"integer","default":1000,"maximum":1000},{"name":"requestor","in":"query","description":"Filter branches by username of the reuqstor(contains)","required":false,"type":"string"},{"name":"skip","in":"query","description":"For pagenation, skip results by giving value","required":false,"type":"integer"},{"name":"state","in":"query","description":"Filter requests by request state","required":false,"type":"string","enum":["running","finish_successfully","failed"]},{"name":"to_time","in":"query","description":"Filter request that was created before the giving value (Epoch time in milliseconds)","required":false,"type":"integer"},{"name":"type","in":"query","description":"Filter request by request type","required":false,"type":"string","enum":["create_branch","update_branch","extend_expration","expire_now"]}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Branch-RequestCollection"}}}}},"/v1/cluster-branching/requests/{request_id}":{"get":{"tags":["cluster-branching"],"summary":"show-request cluster-branching","description":"Retrieve single request by id.","operationId":"cluster-branching#show-request","produces":["application/vnd.branch-request+json"],"parameters":[{"name":"request_id","in":"path","description":"The request id to show","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Branch-Request"}},"404":{"description":"If request id does not exists"}}}},"/v1/cluster-branching/requests/{request_id}/tasks":{"get":{"tags":["cluster-branching"],"summary":"list-request-tasks cluster-branching","description":"Retrive request tasks","operationId":"cluster-branching#list-request-tasks","produces":["application/vnd.branch-request-task+json; type=collection"],"parameters":[{"name":"request_id","in":"path","description":"The request id to show","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Branch-Request-TaskCollection"}}}}},"/v1/cluster-branching/requests/{request_id}/tasks/{task_name}":{"get":{"tags":["cluster-branching"],"summary":"show-request-task cluster-branching","description":"Retrive a single request task by name","operationId":"cluster-branching#show-request-task","produces":["application/vnd.branch-request-task+json"],"parameters":[{"name":"request_id","in":"path","description":"The request id to show","required":true,"type":"string"},{"name":"task_name","in":"path","description":"The request task name to show","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Branch-Request-Task"}}}}},"/v1/cluster-branching/requests/{request_id}/tasks/{task_name}/log":{"get":{"tags":["cluster-branching"],"summary":"show-request-task-log cluster-branching","description":"Retrive a single request task by id","operationId":"cluster-branching#show-request-task-log","produces":["application/vnd.branch-request-task+json"],"parameters":[{"name":"request_id","in":"path","description":"The request id to show","required":true,"type":"string"},{"name":"task_name","in":"path","description":"The request task name to show","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Branch-Request-Task"}}}}},"/v1/cluster-branching/requests/{request_id}/tasks/{task_name}/log/ws":{"get":{"tags":["cluster-branching"],"summary":"subscribe-request-task-log-stream cluster-branching","description":"Retrive a single request task by id","operationId":"cluster-branching#subscribe-request-task-log-stream","parameters":[{"name":"request_id","in":"path","description":"The request id to show","required":true,"type":"string"},{"name":"task_name","in":"path","description":"The request task name to show","required":true,"type":"string"}],"responses":{"101":{"description":"Switching Protocols"}},"schemes":["ws"]}},"/v1/cluster-branching/requests/{request_id}/ws":{"get":{"tags":["cluster-branching"],"summary":"subscribe-request-changes cluster-branching","description":"Subscribe to any changes that will happend to a single request by websocket","operationId":"cluster-branching#subscribe-request-changes","parameters":[{"name":"request_id","in":"path","description":"The request id to show","required":true,"type":"string"}],"responses":{"101":{"description":"Switching Protocols"}},"schemes":["ws"]}},"/v1/cluster-branching/snapshots":{"get":{"tags":["cluster-branching"],"summary":"list-snapshots cluster-branching","description":"Retrive snapshots","operationId":"cluster-branching#list-snapshots","produces":["application/vnd.cluster-snapshot+json; type=collection"],"parameters":[{"name":"cluster_name","in":"query","description":"Filter by cluster name (contains)","required":false,"type":"string"},{"name":"from_time","in":"query","description":"Filter cluster snapshot by retriving all snapshot that was created after the giving value (Epoch time in milliseconds)","required":false,"type":"integer"},{"name":"limit","in":"query","description":"limit the result set by giving value (default is 1000)","required":false,"type":"integer","default":1000,"maximum":1000},{"name":"skip","in":"query","description":"For pagenation, skip results by giving value","required":false,"type":"integer"},{"name":"to_time","in":"query","description":"Filter cluster snapshot by retriving all snapshot that was created before the giving value (Epoch time in milliseconds)","required":false,"type":"integer"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Cluster-SnapshotCollection"}}}}},"/v1/cluster-branching/snapshots/{snapshot_id}":{"get":{"tags":["cluster-branching"],"summary":"show-snapshot cluster-branching","description":"Retrieve single cluster snapshot by id.","operationId":"cluster-branching#show-snapshot","produces":["application/vnd.cluster-for-branching+json"],"parameters":[{"name":"snapshot_id","in":"path","description":"The snapshot id to show","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Cluster-For-Branching"}},"404":{"description":"If snapshot id does not exists"}}}},"/v1/cluster-branching/snapshots/{snapshot_id}/branches":{"get":{"tags":["cluster-branching"],"summary":"list-snapshot-branches cluster-branching","description":"Retrive branches that was created from a specific snapshot","operationId":"cluster-branching#list-snapshot-branches","produces":["application/vnd.cluster-branch+json; type=collection"],"parameters":[{"name":"from_time","in":"query","description":"Filter cluster branch by retriving all branch that was created after the giving value (Epoch time in milliseconds)","required":false,"type":"integer"},{"name":"limit","in":"query","description":"limit the result set by giving value (default is 1000 )","required":false,"type":"integer","default":1000,"maximum":1000},{"name":"requestor","in":"query","description":"Filter branches by username of the reuqstor(contains)","required":false,"type":"string"},{"name":"skip","in":"query","description":"For pagenation, skip results by giving value","required":false,"type":"integer"},{"name":"snapshot_id","in":"path","description":"The snapshot id to show","required":true,"type":"string"},{"name":"status","in":"query","description":"Filter branches by branch status","required":false,"type":"string","enum":["creating","updateing","active","grace","expired","deleted"]},{"name":"team","in":"query","description":"Filter branches by team name (contains)","required":false,"type":"string"},{"name":"to_time","in":"query","description":"Filter cluster branch by retriving all branch that was created before the giving value (Epoch time in milliseconds)","required":false,"type":"integer"},{"name":"type","in":"query","description":"Filter branches by branch type","required":false,"type":"string","enum":["dev","dr"]}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Cluster-BranchCollection"}},"404":{"description":"If snapshot id does not exists"}}}}},"definitions":{"Branch-Request":{"title":"Mediatype identifier: application/vnd.branch-request+json; view=default","type":"object","properties":{"branch_id":{"type":"string","description":"Branch id","example":"efbc33e6-ce47-4777-8acf-048f8aec5c61","format":"uuid"},"jira_ticket":{"type":"string","description":"The Jira ticket that related to this request","example":"DBS-38329"},"request_id":{"type":"string","description":"Request Id","example":"21759c00-370a-4db6-8793-6e5eaead825e","format":"uuid"},"request_type":{"type":"string","description":"The request type","example":"extend_expration","enum":["create_branch","update_branch","extend_expration","expire_now"]},"requestor":{"type":"string","description":"The user that request the branch","example":"iisraelly@wix.com","format":"email"},"tasks":{"type":"array","items":{"$ref":"#/definitions/Branch-Request-Task"},"example":[{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"56cdf528-4812-4805-9419-6792c3100fe5","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"},{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"56cdf528-4812-4805-9419-6792c3100fe5","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"}]}},"description":"A request (default view)","example":{"branch_id":"efbc33e6-ce47-4777-8acf-048f8aec5c61","jira_ticket":"DBS-38329","request_id":"21759c00-370a-4db6-8793-6e5eaead825e","request_type":"extend_expration","requestor":"iisraelly@wix.com","tasks":[{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"56cdf528-4812-4805-9419-6792c3100fe5","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"},{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"56cdf528-4812-4805-9419-6792c3100fe5","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"}]}},"Branch-Request-Task":{"title":"Mediatype identifier: application/vnd.branch-request-task+json; view=default","type":"object","properties":{"description":{"type":"string","description":"The description of the task","example":"At earum et dolorem ut mollitia impedit."},"end_at":{"type":"string","description":"The time that the task was ended","example":"2013-05-05T14:26:02Z","format":"date-time"},"id":{"type":"string","description":"Request task Id","example":"56cdf528-4812-4805-9419-6792c3100fe5","format":"uuid"},"last_log_message":{"type":"string","description":"The last log messages","example":"Reiciendis ut aliquid culpa."},"name":{"type":"string","description":"The task name","example":"Distinctio architecto consequatur magnam repudiandae maxime error."},"progress":{"type":"integer","description":"The progress of this task in presentage","default":0,"example":91,"minimum":0,"maximum":100},"seq":{"type":"integer","description":"The sequence order position of this specific task","example":1696058868987927013,"format":"int64"},"start_at":{"type":"string","description":"The time that the task was started","example":"1972-07-17T06:33:44Z","format":"date-time"},"state":{"type":"string","description":"The state of the current task","default":"pendding","example":"pendding","enum":["pendding","running","finish_successfully","failed"]}},"description":"A sigle task of operation (default view)","example":{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"56cdf528-4812-4805-9419-6792c3100fe5","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"}},"Branch-Request-TaskCollection":{"title":"Mediatype identifier: application/vnd.branch-request-task+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/Branch-Request-Task"},"description":"Branch-Request-TaskCollection is the media type for an array of Branch-Request-Task (default view)","example":[{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"56cdf528-4812-4805-9419-6792c3100fe5","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"},{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"56cdf528-4812-4805-9419-6792c3100fe5","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"}]},"Branch-RequestCollection":{"title":"Mediatype identifier: application/vnd.branch-request+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/Branch-Request"},"description":"Branch-RequestCollection is the media type for an array of Branch-Request (default view)","example":[{"branch_id":"efbc33e6-ce47-4777-8acf-048f8aec5c61","jira_ticket":"DBS-38329","request_id":"21759c00-370a-4db6-8793-6e5eaead825e","request_type":"extend_expration","requestor":"iisraelly@wix.com","tasks":[{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"56cdf528-4812-4805-9419-6792c3100fe5","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"},{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"56cdf528-4812-4805-9419-6792c3100fe5","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"}]},{"branch_id":"efbc33e6-ce47-4777-8acf-048f8aec5c61","jira_ticket":"DBS-38329","request_id":"21759c00-370a-4db6-8793-6e5eaead825e","request_type":"extend_expration","requestor":"iisraelly@wix.com","tasks":[{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"56cdf528-4812-4805-9419-6792c3100fe5","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"},{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"56cdf528-4812-4805-9419-6792c3100fe5","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"}]},{"branch_id":"efbc33e6-ce47-4777-8acf-048f8aec5c61","jira_ticket":"DBS-38329","request_id":"21759c00-370a-4db6-8793-6e5eaead825e","request_type":"extend_expration","requestor":"iisraelly@wix.com","tasks":[{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"56cdf528-4812-4805-9419-6792c3100fe5","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"},{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"56cdf528-4812-4805-9419-6792c3100fe5","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"}]}]},"Cluster-Branch":{"title":"Mediatype identifier: application/vnd.cluster-branch+json; view=default","type":"object","properties":{"cluster_name":{"type":"string","description":"Cluster name that the branch was created from","example":"my_cluster"},"created_at":{"type":"string","description":"The time that the branch was created","example":"2010-03-21T03:32:39Z","format":"date-time"},"expire_at":{"type":"string","description":"The time that the branch will expire","example":"2014-06-01T11:43:01Z","format":"date-time"},"id":{"type":"string","description":"Branch id","example":"d28cebfe-0faa-4c36-b0a2-fd1b1dace173","format":"uuid"},"rollforword_till":{"type":"string","description":"Till what point in time this branch was created","example":"2008-01-14T09:10:38Z","format":"date-time"},"snapshot":{"$ref":"#/definitions/Cluster-Snapshot"},"status":{"type":"string","description":"The status of the branch","example":"grace","enum":["creating","updateing","active","grace","expired","deleted"]},"team":{"type":"string","description":"The Team that this branch was created for","example":"Booking"},"type":{"type":"string","description":"The type of this branch","example":"dev","enum":["dev","dr"]}},"description":"A single cluster branch (default view)","example":{"cluster_name":"my_cluster","created_at":"2010-03-21T03:32:39Z","expire_at":"2014-06-01T11:43:01Z","id":"d28cebfe-0faa-4c36-b0a2-fd1b1dace173","rollforword_till":"2008-01-14T09:10:38Z","snapshot":{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},"status":"grace","team":"Booking","type":"dev"}},"Cluster-BranchCollection":{"title":"Mediatype identifier: application/vnd.cluster-branch+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/Cluster-Branch"},"description":"Cluster-BranchCollection is the media type for an array of Cluster-Branch (default view)","example":[{"cluster_name":"my_cluster","created_at":"2010-03-21T03:32:39Z","expire_at":"2014-06-01T11:43:01Z","id":"d28cebfe-0faa-4c36-b0a2-fd1b1dace173","rollforword_till":"2008-01-14T09:10:38Z","snapshot":{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},"status":"grace","team":"Booking","type":"dev"},{"cluster_name":"my_cluster","created_at":"2010-03-21T03:32:39Z","expire_at":"2014-06-01T11:43:01Z","id":"d28cebfe-0faa-4c36-b0a2-fd1b1dace173","rollforword_till":"2008-01-14T09:10:38Z","snapshot":{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},"status":"grace","team":"Booking","type":"dev"},{"cluster_name":"my_cluster","created_at":"2010-03-21T03:32:39Z","expire_at":"2014-06-01T11:43:01Z","id":"d28cebfe-0faa-4c36-b0a2-fd1b1dace173","rollforword_till":"2008-01-14T09:10:38Z","snapshot":{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},"status":"grace","team":"Booking","type":"dev"}]},"Cluster-For-Branching":{"title":"Mediatype identifier: application/vnd.cluster-for-branching+json; view=default","type":"object","properties":{"cluster_type":{"type":"string","description":"The cluster type","example":"mysql","enum":["mysql","mongodb"]},"count_of_active_branches":{"type":"integer","description":"Count of active (none expire) branches","example":3,"format":"int64"},"id":{"type":"string","description":"Uniq Id from Shapherd","example":"2710efa2-58b5-49ad-bace-f017ff1754e7","format":"uuid"},"latest_snapshot_id":{"type":"string","description":"The latest snapshot thas was taken to this specific cluster","example":"Image_4946347"},"master_hostname":{"type":"string","description":"The current RW master of the cluster","example":"db-mysql-my-cluster0a.42.wixprod.net","format":"hostname"},"name":{"type":"string","description":"Cluster name","example":"my_cluster"},"servers":{"type":"array","items":{"type":"string","example":"wuckert.info.name","format":"hostname"},"description":"List of server in cluster","example":["db-mysql-my-cluster0a.42.wixprod.net","db-mysql-my-cluster1b.42.wixprod.net","db-mysql-my-cluster0a.96.wixprod.net","db-mysql-my-cluster1b.96.wixprod.net"]},"top_ten_latest_snapshots":{"$ref":"#/definitions/Cluster-SnapshotCollection"}},"description":"A Database Cluster with all the relevant data for creating new cluster branch from a snapshot (default view)","example":{"cluster_type":"mysql","count_of_active_branches":3,"id":"2710efa2-58b5-49ad-bace-f017ff1754e7","latest_snapshot_id":"Image_4946347","master_hostname":"db-mysql-my-cluster0a.42.wixprod.net","name":"my_cluster","servers":["db-mysql-my-cluster0a.42.wixprod.net","db-mysql-my-cluster1b.42.wixprod.net","db-mysql-my-cluster0a.96.wixprod.net","db-mysql-my-cluster1b.96.wixprod.net"],"top_ten_latest_snapshots":[{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"}]}},"Cluster-For-BranchingCollection":{"title":"Mediatype identifier: application/vnd.cluster-for-branching+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/Cluster-For-Branching"},"description":"Cluster-For-BranchingCollection is the media type for an array of Cluster-For-Branching (default view)","example":[{"cluster_type":"mysql","count_of_active_branches":3,"id":"2710efa2-58b5-49ad-bace-f017ff1754e7","latest_snapshot_id":"Image_4946347","master_hostname":"db-mysql-my-cluster0a.42.wixprod.net","name":"my_cluster","servers":["db-mysql-my-cluster0a.42.wixprod.net","db-mysql-my-cluster1b.42.wixprod.net","db-mysql-my-cluster0a.96.wixprod.net","db-mysql-my-cluster1b.96.wixprod.net"],"top_ten_latest_snapshots":[{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"}]},{"cluster_type":"mysql","count_of_active_branches":3,"id":"2710efa2-58b5-49ad-bace-f017ff1754e7","latest_snapshot_id":"Image_4946347","master_hostname":"db-mysql-my-cluster0a.42.wixprod.net","name":"my_cluster","servers":["db-mysql-my-cluster0a.42.wixprod.net","db-mysql-my-cluster1b.42.wixprod.net","db-mysql-my-cluster0a.96.wixprod.net","db-mysql-my-cluster1b.96.wixprod.net"],"top_ten_latest_snapshots":[{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"}]},{"cluster_type":"mysql","count_of_active_branches":3,"id":"2710efa2-58b5-49ad-bace-f017ff1754e7","latest_snapshot_id":"Image_4946347","master_hostname":"db-mysql-my-cluster0a.42.wixprod.net","name":"my_cluster","servers":["db-mysql-my-cluster0a.42.wixprod.net","db-mysql-my-cluster1b.42.wixprod.net","db-mysql-my-cluster0a.96.wixprod.net","db-mysql-my-cluster1b.96.wixprod.net"],"top_ten_latest_snapshots":[{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"}]}]},"Cluster-Snapshot":{"title":"Mediatype identifier: application/vnd.cluster-snapshot+json; view=default","type":"object","properties":{"class":{"type":"string","description":"Sky job class","example":"OnVault","enum":["snapshot","OnVault"]},"cluster_name":{"type":"string","description":"Cluster name that the snapshot related to","example":"my_cluster"},"created_at":{"type":"string","description":"The time that the snapshot was taken","example":"1988-07-14T08:46:52Z","format":"date-time"},"id":{"type":"string","description":"Snapshot image id","example":"Image_4946347"},"image_size_mb":{"type":"number","description":"Size of the image snapshot in MB","example":95367.4,"format":"double"},"rollforword_till":{"type":"string","description":"The latest time that the specific snapshot can be rollforword (point in time restor) (not sure if we can calculate this)","example":"1977-04-09T00:50:17Z","format":"date-time"}},"description":"A single sky snapshot for a specific cluster (default view)","example":{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"}},"Cluster-SnapshotCollection":{"title":"Mediatype identifier: application/vnd.cluster-snapshot+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/Cluster-Snapshot"},"description":"Cluster-SnapshotCollection is the media type for an array of Cluster-Snapshot (default view)","example":[{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"}]},"CreateBranchPayload":{"title":"CreateBranchPayload","type":"object","properties":{"cluster_name":{"type":"string","description":"Cluster name that the branch will created from","example":"my_cluster"},"requestor":{"type":"string","description":"The user that request the branch","example":"iisraelly@wix.com","format":"email"},"snapshot_id":{"type":"string","description":"Snapshot image id that this branch will create from","example":"Image_4946347"},"team":{"type":"string","description":"The Team that this branch will create for","example":"Booking"},"type":{"type":"string","description":"The type of this branch","example":"dev","enum":["dev","dr"]}},"description":"CreateBranchPayload defind a new branch request","example":{"cluster_name":"my_cluster","requestor":"iisraelly@wix.com","snapshot_id":"Image_4946347","team":"Booking","type":"dev"},"required":["snapshot_id","team","cluster_name","requestor","type"]},"UpdateBranchPayload":{"title":"UpdateBranchPayload","type":"object","properties":{"comment":{"type":"string","description":"Comment of this operation","example":"Eius ut nemo velit quia."},"operation":{"type":"string","description":"The operation to be done on the existing branch","example":"expire_now","enum":["extend_expiration","expire_now"]}},"description":"UpdateBranchPayload defind an update request on existing branch","example":{"comment":"Eius ut nemo velit quia.","operation":"expire_now"},"required":["operation"]}},"responses":{"BadRequest":{"description":"Bad Request"},"SwitchingProtocols":{"description":"Switching Protocols"},"UnprocessableEntity":{"description":"Unprocessable Entity"}}}