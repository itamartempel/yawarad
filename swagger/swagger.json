{"swagger":"2.0","info":{"title":"YAWARAD API for the lazy DBA","description":"Set of utiles for creating and managing databases","version":""},"host":"localhost:8081","basePath":"/api","consumes":["application/json","application/xml","application/gob","application/x-gob"],"produces":["application/json","application/xml","application/gob","application/x-gob"],"paths":{"/v1/cluster-branching/branches/":{"get":{"tags":["branche"],"summary":"list branche","description":"Retrive branches","operationId":"branche#list","produces":["application/vnd.countable-collection-cluster-branches+json"],"parameters":[{"name":"cluster_name","in":"query","description":"Filter branch by cluster name (contains)","required":false,"type":"string"},{"name":"from_time","in":"query","description":"Filter cluster branch by retriving all branch that was created after the giving value (Epoch time in milliseconds)","required":false,"type":"integer"},{"name":"limit","in":"query","description":"limit the result set by giving value (default is 100 )","required":false,"type":"integer","default":100,"maximum":100},{"name":"requestor","in":"query","description":"Filter branches by username of the reuqstor(contains)","required":false,"type":"string"},{"name":"skip","in":"query","description":"For pagenation, skip results by giving value","required":false,"type":"integer"},{"name":"status","in":"query","description":"Filter branches by branch status","required":false,"type":"string","enum":["creating","updateing","active","grace","expired","deleted"]},{"name":"team","in":"query","description":"Filter branches by team name (contains)","required":false,"type":"string"},{"name":"to_time","in":"query","description":"Filter cluster branch by retriving all branch that was created before the giving value (Epoch time in milliseconds)","required":false,"type":"integer"},{"name":"type","in":"query","description":"Filter branches by branch type","required":false,"type":"string","enum":["dev","dr"]}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Countable-Collection-Cluster-Branches"}}}},"put":{"tags":["branche"],"summary":"update branche","description":"Update a new branch","operationId":"branche#update","produces":["application/vnd.branch-request+json"],"parameters":[{"name":"payload","in":"body","description":"UpdateBranchPayload defind an update request on existing branch","required":true,"schema":{"$ref":"#/definitions/UpdateBranchPayload"}}],"responses":{"202":{"description":"Accepted","schema":{"$ref":"#/definitions/Branch-Request"}},"400":{"description":"Bad Request"},"422":{"description":"Unprocessable Entity"}}},"post":{"tags":["branche"],"summary":"create branche","description":"Create a new branch","operationId":"branche#create","produces":["application/vnd.branch-request+json"],"parameters":[{"name":"payload","in":"body","description":"CreateBranchPayload defind a new branch request","required":true,"schema":{"$ref":"#/definitions/CreateBranchPayload"}}],"responses":{"201":{"description":"Created","schema":{"$ref":"#/definitions/Branch-Request"}},"400":{"description":"Bad Request"},"422":{"description":"Unprocessable Entity"}}}},"/v1/cluster-branching/branches/{branch_id}":{"get":{"tags":["branche"],"summary":"show branche","description":"Retrieve single cluster branch by id.","operationId":"branche#show","produces":["application/vnd.cluster-for-branching+json"],"parameters":[{"name":"branch_id","in":"path","description":"The branch id to show","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Cluster-For-Branching"}},"404":{"description":"If branch id does not exists"}}}},"/v1/cluster-branching/clusters/":{"get":{"tags":["cluster"],"summary":"list cluster","description":"Retrieve all Available cluster that can be branch.","operationId":"cluster#list","produces":["application/vnd.countable-collection-cluster-for-branching+json"],"parameters":[{"name":"cluster_name","in":"query","description":"Filter by cluster name (contains)","required":false,"type":"string"},{"name":"cluster_type","in":"query","required":false,"type":"string","enum":["mysql","mongodb"]},{"name":"limit","in":"query","description":"limit the result set by giving value (default is 100)","required":false,"type":"integer","default":100,"maximum":100},{"name":"skip","in":"query","description":"For pagenation, skip results by giving value","required":false,"type":"integer"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Countable-Collection-Cluster-For-Branching"}}}}},"/v1/cluster-branching/clusters/{cluster_name}":{"get":{"tags":["cluster"],"summary":"show cluster","description":"Retrieve single cluster to be branch by name.","operationId":"cluster#show","produces":["application/vnd.cluster-for-branching+json"],"parameters":[{"name":"cluster_name","in":"path","description":"The cluster name to show","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Cluster-For-Branching"}},"404":{"description":"If cluster name does not exists"}}}},"/v1/cluster-branching/clusters/{cluster_name}/branches":{"get":{"tags":["cluster-branches"],"summary":"list cluster-branches","description":"Retrive branches of a specific cluster","operationId":"cluster-branches#list","produces":["application/vnd.countable-collection-cluster-branches+json"],"parameters":[{"name":"cluster_name","in":"path","description":"The cluster name to show","required":true,"type":"string"},{"name":"from_time","in":"query","description":"Filter cluster branch by retriving all branch that was created after the giving value (Epoch time in milliseconds)","required":false,"type":"integer"},{"name":"limit","in":"query","description":"limit the result set by giving value (default is 100 )","required":false,"type":"integer","default":100,"maximum":100},{"name":"requestor","in":"query","description":"Filter branches by username of the reuqstor(contains)","required":false,"type":"string"},{"name":"skip","in":"query","description":"For pagenation, skip results by giving value","required":false,"type":"integer"},{"name":"status","in":"query","description":"Filter branches by branch status","required":false,"type":"string","enum":["creating","updateing","active","grace","expired","deleted"]},{"name":"team","in":"query","description":"Filter branches by team name (contains)","required":false,"type":"string"},{"name":"to_time","in":"query","description":"Filter cluster branch by retriving all branch that was created before the giving value (Epoch time in milliseconds)","required":false,"type":"integer"},{"name":"type","in":"query","description":"Filter branches by branch type","required":false,"type":"string","enum":["dev","dr"]}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Countable-Collection-Cluster-Branches"}},"404":{"description":"If cluster name does not exists"}}}},"/v1/cluster-branching/clusters/{cluster_name}/snapshots":{"get":{"tags":["cluster-snapshots"],"summary":"list cluster-snapshots","description":"Retrive snapshots of a specific cluster","operationId":"cluster-snapshots#list","produces":["application/vnd.countable-collection-cluster-snapshots+json"],"parameters":[{"name":"cluster_name","in":"path","description":"The cluster name to show","required":true,"type":"string"},{"name":"from_time","in":"query","description":"Filter cluster snapshot by retriving all snapshot that was created after the giving value (Epoch time in milliseconds)","required":false,"type":"integer"},{"name":"limit","in":"query","description":"limit the result set by giving value (default is 100)","required":false,"type":"integer","default":100,"maximum":100},{"name":"skip","in":"query","description":"For pagenation, skip results by giving value","required":false,"type":"integer"},{"name":"to_time","in":"query","description":"Filter cluster snapshot by retriving all snapshot that was created before the giving value (Epoch time in milliseconds)","required":false,"type":"integer"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Countable-Collection-Cluster-Snapshots"}},"404":{"description":"If cluster name does not exists"}}}},"/v1/cluster-branching/requests/":{"get":{"tags":["request"],"summary":"list request","description":"Retrive requests","operationId":"request#list","produces":["application/vnd.countable-collection-requests+json"],"parameters":[{"name":"cluster_name","in":"query","description":"Filter request by cluster name (contains)","required":false,"type":"string"},{"name":"from_time","in":"query","description":"Filter requests that was created after the giving value (Epoch time in milliseconds)","required":false,"type":"integer"},{"name":"limit","in":"query","description":"limit the result set by giving value (default is 100 )","required":false,"type":"integer","default":100,"maximum":100},{"name":"requestor","in":"query","description":"Filter branches by username of the reuqstor(contains)","required":false,"type":"string"},{"name":"skip","in":"query","description":"For pagenation, skip results by giving value","required":false,"type":"integer"},{"name":"state","in":"query","description":"Filter requests by request state","required":false,"type":"string","enum":["running","finish_successfully","failed"]},{"name":"to_time","in":"query","description":"Filter request that was created before the giving value (Epoch time in milliseconds)","required":false,"type":"integer"},{"name":"type","in":"query","description":"Filter request by request type","required":false,"type":"string","enum":["create_branch","update_branch","extend_expration","expire_now"]}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Countable-Collection-Requests"}}}}},"/v1/cluster-branching/requests/{request_id}":{"get":{"tags":["request"],"summary":"show request","description":"Retrieve single request by id.","operationId":"request#show","produces":["application/vnd.branch-request+json"],"parameters":[{"name":"request_id","in":"path","description":"The request id to show","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Branch-Request"}},"404":{"description":"If request id does not exists"}}}},"/v1/cluster-branching/requests/{request_id}/tasks":{"get":{"tags":["request-task"],"summary":"list request-task","description":"Retrive request tasks","operationId":"request-task#list","produces":["application/vnd.branch-request-task+json; type=collection"],"parameters":[{"name":"request_id","in":"path","description":"The request id to show","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Branch-Request-TaskCollection"}}}}},"/v1/cluster-branching/requests/{request_id}/tasks/{task_name}":{"get":{"tags":["request-task"],"summary":"show request-task","description":"Retrive a single request task by name","operationId":"request-task#show","produces":["application/vnd.branch-request-task+json"],"parameters":[{"name":"request_id","in":"path","description":"The request id to show","required":true,"type":"string"},{"name":"task_name","in":"path","description":"The request task name to show","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Branch-Request-Task"}}}}},"/v1/cluster-branching/requests/{request_id}/tasks/{task_name}/log":{"get":{"tags":["request-task"],"summary":"log request-task","description":"Retrive a single request task by id","operationId":"request-task#log","produces":["application/vnd.branch-request-task+json"],"parameters":[{"name":"request_id","in":"path","description":"The request id to show","required":true,"type":"string"},{"name":"task_name","in":"path","description":"The request task name to show","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Branch-Request-Task"}}}}},"/v1/cluster-branching/requests/{request_id}/tasks/{task_name}/log/ws":{"get":{"tags":["request-task"],"summary":"stream-log request-task","description":"Retrive a single request task by id","operationId":"request-task#stream-log","parameters":[{"name":"request_id","in":"path","description":"The request id to show","required":true,"type":"string"},{"name":"task_name","in":"path","description":"The request task name to show","required":true,"type":"string"}],"responses":{"101":{"description":"Switching Protocols"}},"schemes":["ws"]}},"/v1/cluster-branching/requests/{request_id}/ws":{"get":{"tags":["request-changes"],"summary":"subscribe request-changes","description":"Subscribe to any changes that will happend to a single request by websocket","operationId":"request-changes#subscribe","parameters":[{"name":"request_id","in":"path","description":"The request id to show","required":true,"type":"string"}],"responses":{"101":{"description":"Switching Protocols"}},"schemes":["ws"]}},"/v1/cluster-branching/snapshots/":{"get":{"tags":["snapshot"],"summary":"list snapshot","description":"Retrive snapshots","operationId":"snapshot#list","produces":["application/vnd.countable-collection-cluster-snapshots+json"],"parameters":[{"name":"cluster_name","in":"query","description":"Filter by cluster name (contains)","required":false,"type":"string"},{"name":"from_time","in":"query","description":"Filter cluster snapshot by retriving all snapshot that was created after the giving value (Epoch time in milliseconds)","required":false,"type":"integer"},{"name":"limit","in":"query","description":"limit the result set by giving value (default is 100)","required":false,"type":"integer","default":100,"maximum":100},{"name":"skip","in":"query","description":"For pagenation, skip results by giving value","required":false,"type":"integer"},{"name":"to_time","in":"query","description":"Filter cluster snapshot by retriving all snapshot that was created before the giving value (Epoch time in milliseconds)","required":false,"type":"integer"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Countable-Collection-Cluster-Snapshots"}}}}},"/v1/cluster-branching/snapshots/{snapshot_id}":{"get":{"tags":["snapshot"],"summary":"show snapshot","description":"Retrieve single cluster snapshot by id.","operationId":"snapshot#show","produces":["application/vnd.cluster-for-branching+json"],"parameters":[{"name":"snapshot_id","in":"path","description":"The snapshot id to show","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Cluster-For-Branching"}},"404":{"description":"If snapshot id does not exists"}}}},"/v1/cluster-branching/snapshots/{snapshot_id}/branches":{"get":{"tags":["snapshot-branches"],"summary":"list snapshot-branches","description":"Retrive branches that was created from a specific snapshot","operationId":"snapshot-branches#list","produces":["application/vnd.countable-collection-cluster-branches+json"],"parameters":[{"name":"from_time","in":"query","description":"Filter cluster branch by retriving all branch that was created after the giving value (Epoch time in milliseconds)","required":false,"type":"integer"},{"name":"limit","in":"query","description":"limit the result set by giving value (default is 100 )","required":false,"type":"integer","default":100,"maximum":100},{"name":"requestor","in":"query","description":"Filter branches by username of the reuqstor(contains)","required":false,"type":"string"},{"name":"skip","in":"query","description":"For pagenation, skip results by giving value","required":false,"type":"integer"},{"name":"snapshot_id","in":"path","description":"The snapshot id to show","required":true,"type":"string"},{"name":"status","in":"query","description":"Filter branches by branch status","required":false,"type":"string","enum":["creating","updateing","active","grace","expired","deleted"]},{"name":"team","in":"query","description":"Filter branches by team name (contains)","required":false,"type":"string"},{"name":"to_time","in":"query","description":"Filter cluster branch by retriving all branch that was created before the giving value (Epoch time in milliseconds)","required":false,"type":"integer"},{"name":"type","in":"query","description":"Filter branches by branch type","required":false,"type":"string","enum":["dev","dr"]}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/Countable-Collection-Cluster-Branches"}},"404":{"description":"If snapshot id does not exists"}}}}},"definitions":{"Branch-Request":{"title":"Mediatype identifier: application/vnd.branch-request+json; view=default","type":"object","properties":{"branch_id":{"type":"string","description":"Branch id","example":"00e3c72e-ff6b-4a8e-8873-be9be1c76444","format":"uuid"},"jira_ticket":{"type":"string","description":"The Jira ticket that related to this request","example":"DBS-38329"},"request_id":{"type":"string","description":"Request Id","example":"e2739b9e-9d6a-4347-8136-36a551b105af","format":"uuid"},"request_type":{"type":"string","description":"The request type","example":"extend_expration","enum":["create_branch","update_branch","extend_expration","expire_now"]},"requestor":{"type":"string","description":"The user that request the branch","example":"iisraelly@wix.com","format":"email"},"tasks":{"type":"array","items":{"$ref":"#/definitions/Branch-Request-Task"},"example":[{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"636063cd-6e2e-4467-a5bc-d72723bce238","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"},{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"636063cd-6e2e-4467-a5bc-d72723bce238","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"}]}},"description":"A request (default view)","example":{"branch_id":"00e3c72e-ff6b-4a8e-8873-be9be1c76444","jira_ticket":"DBS-38329","request_id":"e2739b9e-9d6a-4347-8136-36a551b105af","request_type":"extend_expration","requestor":"iisraelly@wix.com","tasks":[{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"636063cd-6e2e-4467-a5bc-d72723bce238","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"},{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"636063cd-6e2e-4467-a5bc-d72723bce238","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"}]}},"Branch-Request-Task":{"title":"Mediatype identifier: application/vnd.branch-request-task+json; view=default","type":"object","properties":{"description":{"type":"string","description":"The description of the task","example":"At earum et dolorem ut mollitia impedit."},"end_at":{"type":"string","description":"The time that the task was ended","example":"2013-05-05T14:26:02Z","format":"date-time"},"id":{"type":"string","description":"Request task Id","example":"636063cd-6e2e-4467-a5bc-d72723bce238","format":"uuid"},"last_log_message":{"type":"string","description":"The last log messages","example":"Reiciendis ut aliquid culpa."},"name":{"type":"string","description":"The task name","example":"Distinctio architecto consequatur magnam repudiandae maxime error."},"progress":{"type":"integer","description":"The progress of this task in presentage","default":0,"example":91,"minimum":0,"maximum":100},"seq":{"type":"integer","description":"The sequence order position of this specific task","example":1696058868987927013,"format":"int64"},"start_at":{"type":"string","description":"The time that the task was started","example":"1972-07-17T06:33:44Z","format":"date-time"},"state":{"type":"string","description":"The state of the current task","default":"pendding","example":"pendding","enum":["pendding","running","finish_successfully","failed"]}},"description":"A sigle task of operation (default view)","example":{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"636063cd-6e2e-4467-a5bc-d72723bce238","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"}},"Branch-Request-TaskCollection":{"title":"Mediatype identifier: application/vnd.branch-request-task+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/Branch-Request-Task"},"description":"Branch-Request-TaskCollection is the media type for an array of Branch-Request-Task (default view)","example":[{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"636063cd-6e2e-4467-a5bc-d72723bce238","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"},{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"636063cd-6e2e-4467-a5bc-d72723bce238","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"},{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"636063cd-6e2e-4467-a5bc-d72723bce238","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"}]},"Branch-RequestCollection":{"title":"Mediatype identifier: application/vnd.branch-request+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/Branch-Request"},"description":"Branch-RequestCollection is the media type for an array of Branch-Request (default view)","example":[{"branch_id":"00e3c72e-ff6b-4a8e-8873-be9be1c76444","jira_ticket":"DBS-38329","request_id":"e2739b9e-9d6a-4347-8136-36a551b105af","request_type":"extend_expration","requestor":"iisraelly@wix.com","tasks":[{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"636063cd-6e2e-4467-a5bc-d72723bce238","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"},{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"636063cd-6e2e-4467-a5bc-d72723bce238","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"}]},{"branch_id":"00e3c72e-ff6b-4a8e-8873-be9be1c76444","jira_ticket":"DBS-38329","request_id":"e2739b9e-9d6a-4347-8136-36a551b105af","request_type":"extend_expration","requestor":"iisraelly@wix.com","tasks":[{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"636063cd-6e2e-4467-a5bc-d72723bce238","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"},{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"636063cd-6e2e-4467-a5bc-d72723bce238","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"}]}]},"Cluster-Branch":{"title":"Mediatype identifier: application/vnd.cluster-branch+json; view=default","type":"object","properties":{"cluster_name":{"type":"string","description":"Cluster name that the branch was created from","example":"my_cluster"},"created_at":{"type":"string","description":"The time that the branch was created","example":"2010-03-21T03:32:39Z","format":"date-time"},"expire_at":{"type":"string","description":"The time that the branch will expire","example":"2014-06-01T11:43:01Z","format":"date-time"},"id":{"type":"string","description":"Branch id","example":"f08ede81-2dd0-47a2-8391-4db61552eead","format":"uuid"},"rollforword_till":{"type":"string","description":"Till what point in time this branch was created","example":"2008-01-14T09:10:38Z","format":"date-time"},"snapshot":{"$ref":"#/definitions/Cluster-Snapshot"},"status":{"type":"string","description":"The status of the branch","example":"grace","enum":["creating","updateing","active","grace","expired","deleted"]},"team":{"type":"string","description":"The Team that this branch was created for","example":"Booking"},"type":{"type":"string","description":"The type of this branch","example":"dev","enum":["dev","dr"]}},"description":"A single cluster branch (default view)","example":{"cluster_name":"my_cluster","created_at":"2010-03-21T03:32:39Z","expire_at":"2014-06-01T11:43:01Z","id":"f08ede81-2dd0-47a2-8391-4db61552eead","rollforword_till":"2008-01-14T09:10:38Z","snapshot":{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},"status":"grace","team":"Booking","type":"dev"}},"Cluster-BranchCollection":{"title":"Mediatype identifier: application/vnd.cluster-branch+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/Cluster-Branch"},"description":"Cluster-BranchCollection is the media type for an array of Cluster-Branch (default view)","example":[{"cluster_name":"my_cluster","created_at":"2010-03-21T03:32:39Z","expire_at":"2014-06-01T11:43:01Z","id":"f08ede81-2dd0-47a2-8391-4db61552eead","rollforword_till":"2008-01-14T09:10:38Z","snapshot":{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},"status":"grace","team":"Booking","type":"dev"},{"cluster_name":"my_cluster","created_at":"2010-03-21T03:32:39Z","expire_at":"2014-06-01T11:43:01Z","id":"f08ede81-2dd0-47a2-8391-4db61552eead","rollforword_till":"2008-01-14T09:10:38Z","snapshot":{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},"status":"grace","team":"Booking","type":"dev"},{"cluster_name":"my_cluster","created_at":"2010-03-21T03:32:39Z","expire_at":"2014-06-01T11:43:01Z","id":"f08ede81-2dd0-47a2-8391-4db61552eead","rollforword_till":"2008-01-14T09:10:38Z","snapshot":{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},"status":"grace","team":"Booking","type":"dev"}]},"Cluster-For-Branching":{"title":"Mediatype identifier: application/vnd.cluster-for-branching+json; view=default","type":"object","properties":{"cluster_type":{"type":"string","description":"The cluster type","example":"mysql","enum":["mysql","mongodb"]},"count_of_active_branches":{"type":"integer","description":"Count of active (none expire) branches","example":3,"format":"int64"},"id":{"type":"string","description":"Uniq Id from Shapherd","example":"7a43b10c-50ba-48d5-be7e-5ea4f1f44493","format":"uuid"},"latest_snapshot_id":{"type":"string","description":"The latest snapshot thas was taken to this specific cluster","example":"Image_4946347"},"master_hostname":{"type":"string","description":"The current RW master of the cluster","example":"db-mysql-my-cluster0a.42.wixprod.net","format":"hostname"},"name":{"type":"string","description":"Cluster name","example":"my_cluster"},"servers":{"type":"array","items":{"type":"string","example":"kutch.name.name","format":"hostname"},"description":"List of server in cluster","example":["db-mysql-my-cluster0a.42.wixprod.net","db-mysql-my-cluster1b.42.wixprod.net","db-mysql-my-cluster0a.96.wixprod.net","db-mysql-my-cluster1b.96.wixprod.net"]},"top_ten_latest_snapshots":{"$ref":"#/definitions/Cluster-SnapshotCollection"}},"description":"A Database Cluster with all the relevant data for creating new cluster branch from a snapshot (default view)","example":{"cluster_type":"mysql","count_of_active_branches":3,"id":"7a43b10c-50ba-48d5-be7e-5ea4f1f44493","latest_snapshot_id":"Image_4946347","master_hostname":"db-mysql-my-cluster0a.42.wixprod.net","name":"my_cluster","servers":["db-mysql-my-cluster0a.42.wixprod.net","db-mysql-my-cluster1b.42.wixprod.net","db-mysql-my-cluster0a.96.wixprod.net","db-mysql-my-cluster1b.96.wixprod.net"],"top_ten_latest_snapshots":[{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"}]}},"Cluster-For-BranchingCollection":{"title":"Mediatype identifier: application/vnd.cluster-for-branching+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/Cluster-For-Branching"},"description":"Cluster-For-BranchingCollection is the media type for an array of Cluster-For-Branching (default view)","example":[{"cluster_type":"mysql","count_of_active_branches":3,"id":"7a43b10c-50ba-48d5-be7e-5ea4f1f44493","latest_snapshot_id":"Image_4946347","master_hostname":"db-mysql-my-cluster0a.42.wixprod.net","name":"my_cluster","servers":["db-mysql-my-cluster0a.42.wixprod.net","db-mysql-my-cluster1b.42.wixprod.net","db-mysql-my-cluster0a.96.wixprod.net","db-mysql-my-cluster1b.96.wixprod.net"],"top_ten_latest_snapshots":[{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"}]},{"cluster_type":"mysql","count_of_active_branches":3,"id":"7a43b10c-50ba-48d5-be7e-5ea4f1f44493","latest_snapshot_id":"Image_4946347","master_hostname":"db-mysql-my-cluster0a.42.wixprod.net","name":"my_cluster","servers":["db-mysql-my-cluster0a.42.wixprod.net","db-mysql-my-cluster1b.42.wixprod.net","db-mysql-my-cluster0a.96.wixprod.net","db-mysql-my-cluster1b.96.wixprod.net"],"top_ten_latest_snapshots":[{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"}]}]},"Cluster-Snapshot":{"title":"Mediatype identifier: application/vnd.cluster-snapshot+json; view=default","type":"object","properties":{"class":{"type":"string","description":"Sky job class","example":"OnVault","enum":["snapshot","OnVault"]},"cluster_name":{"type":"string","description":"Cluster name that the snapshot related to","example":"my_cluster"},"created_at":{"type":"string","description":"The time that the snapshot was taken","example":"1988-07-14T08:46:52Z","format":"date-time"},"id":{"type":"string","description":"Snapshot image id","example":"Image_4946347"},"image_size_mb":{"type":"number","description":"Size of the image snapshot in MB","example":95367.4,"format":"double"},"rollforword_till":{"type":"string","description":"The latest time that the specific snapshot can be rollforword (point in time restor) (not sure if we can calculate this)","example":"1977-04-09T00:50:17Z","format":"date-time"}},"description":"A single sky snapshot for a specific cluster (default view)","example":{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"}},"Cluster-SnapshotCollection":{"title":"Mediatype identifier: application/vnd.cluster-snapshot+json; type=collection; view=default","type":"array","items":{"$ref":"#/definitions/Cluster-Snapshot"},"description":"Cluster-SnapshotCollection is the media type for an array of Cluster-Snapshot (default view)","example":[{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"}]},"Countable-Collection-Cluster-Branches":{"title":"Mediatype identifier: application/vnd.countable-collection-cluster-branches+json; view=default","type":"object","properties":{"branches":{"$ref":"#/definitions/Cluster-BranchCollection"},"count":{"type":"integer","description":"The total Count Of Results","example":798,"format":"int64"},"limit":{"type":"integer","description":"The limit of result from the total result set","example":100,"format":"int64"},"skip":{"type":"integer","description":"The count of skiped results from the total result set","example":0,"format":"int64"}},"description":"Countable Collection of Clusters (default view)","example":{"branches":[{"cluster_name":"my_cluster","created_at":"2010-03-21T03:32:39Z","expire_at":"2014-06-01T11:43:01Z","id":"f08ede81-2dd0-47a2-8391-4db61552eead","rollforword_till":"2008-01-14T09:10:38Z","snapshot":{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},"status":"grace","team":"Booking","type":"dev"},{"cluster_name":"my_cluster","created_at":"2010-03-21T03:32:39Z","expire_at":"2014-06-01T11:43:01Z","id":"f08ede81-2dd0-47a2-8391-4db61552eead","rollforword_till":"2008-01-14T09:10:38Z","snapshot":{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},"status":"grace","team":"Booking","type":"dev"},{"cluster_name":"my_cluster","created_at":"2010-03-21T03:32:39Z","expire_at":"2014-06-01T11:43:01Z","id":"f08ede81-2dd0-47a2-8391-4db61552eead","rollforword_till":"2008-01-14T09:10:38Z","snapshot":{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},"status":"grace","team":"Booking","type":"dev"}],"count":798,"limit":100,"skip":0}},"Countable-Collection-Cluster-For-Branching":{"title":"Mediatype identifier: application/vnd.countable-collection-cluster-for-branching+json; view=default","type":"object","properties":{"clusters":{"$ref":"#/definitions/Cluster-For-BranchingCollection"},"count":{"type":"integer","description":"The total Count Of Results","example":606,"format":"int64"},"limit":{"type":"integer","description":"The limit of result from the total result set","example":100,"format":"int64"},"skip":{"type":"integer","description":"The count of skiped results from the total result set","example":0,"format":"int64"}},"description":"Countable Collection of Clusters (default view)","example":{"clusters":[{"cluster_type":"mysql","count_of_active_branches":3,"id":"7a43b10c-50ba-48d5-be7e-5ea4f1f44493","latest_snapshot_id":"Image_4946347","master_hostname":"db-mysql-my-cluster0a.42.wixprod.net","name":"my_cluster","servers":["db-mysql-my-cluster0a.42.wixprod.net","db-mysql-my-cluster1b.42.wixprod.net","db-mysql-my-cluster0a.96.wixprod.net","db-mysql-my-cluster1b.96.wixprod.net"],"top_ten_latest_snapshots":[{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"}]},{"cluster_type":"mysql","count_of_active_branches":3,"id":"7a43b10c-50ba-48d5-be7e-5ea4f1f44493","latest_snapshot_id":"Image_4946347","master_hostname":"db-mysql-my-cluster0a.42.wixprod.net","name":"my_cluster","servers":["db-mysql-my-cluster0a.42.wixprod.net","db-mysql-my-cluster1b.42.wixprod.net","db-mysql-my-cluster0a.96.wixprod.net","db-mysql-my-cluster1b.96.wixprod.net"],"top_ten_latest_snapshots":[{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"}]},{"cluster_type":"mysql","count_of_active_branches":3,"id":"7a43b10c-50ba-48d5-be7e-5ea4f1f44493","latest_snapshot_id":"Image_4946347","master_hostname":"db-mysql-my-cluster0a.42.wixprod.net","name":"my_cluster","servers":["db-mysql-my-cluster0a.42.wixprod.net","db-mysql-my-cluster1b.42.wixprod.net","db-mysql-my-cluster0a.96.wixprod.net","db-mysql-my-cluster1b.96.wixprod.net"],"top_ten_latest_snapshots":[{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"}]}],"count":606,"limit":100,"skip":0}},"Countable-Collection-Cluster-Snapshots":{"title":"Mediatype identifier: application/vnd.countable-collection-cluster-snapshots+json; view=default","type":"object","properties":{"count":{"type":"integer","description":"The total Count Of Results","example":1029,"format":"int64"},"limit":{"type":"integer","description":"The limit of result from the total result set","example":100,"format":"int64"},"skip":{"type":"integer","description":"The count of skiped results from the total result set","example":0,"format":"int64"},"snapshots":{"$ref":"#/definitions/Cluster-SnapshotCollection"}},"description":"Countable Collection of Clusters (default view)","example":{"count":1029,"limit":100,"skip":0,"snapshots":[{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"},{"class":"OnVault","cluster_name":"my_cluster","created_at":"1988-07-14T08:46:52Z","id":"Image_4946347","image_size_mb":95367.4,"rollforword_till":"1977-04-09T00:50:17Z"}]}},"Countable-Collection-Requests":{"title":"Mediatype identifier: application/vnd.countable-collection-requests+json; view=default","type":"object","properties":{"count":{"type":"integer","description":"The total Count Of Results","example":4321,"format":"int64"},"limit":{"type":"integer","description":"The limit of result from the total result set","example":100,"format":"int64"},"requests":{"$ref":"#/definitions/Branch-RequestCollection"},"skip":{"type":"integer","description":"The count of skiped results from the total result set","example":0,"format":"int64"}},"description":"Countable Collection of Clusters (default view)","example":{"count":4321,"limit":100,"requests":[{"branch_id":"00e3c72e-ff6b-4a8e-8873-be9be1c76444","jira_ticket":"DBS-38329","request_id":"e2739b9e-9d6a-4347-8136-36a551b105af","request_type":"extend_expration","requestor":"iisraelly@wix.com","tasks":[{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"636063cd-6e2e-4467-a5bc-d72723bce238","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"},{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"636063cd-6e2e-4467-a5bc-d72723bce238","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"}]},{"branch_id":"00e3c72e-ff6b-4a8e-8873-be9be1c76444","jira_ticket":"DBS-38329","request_id":"e2739b9e-9d6a-4347-8136-36a551b105af","request_type":"extend_expration","requestor":"iisraelly@wix.com","tasks":[{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"636063cd-6e2e-4467-a5bc-d72723bce238","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"},{"description":"At earum et dolorem ut mollitia impedit.","end_at":"2013-05-05T14:26:02Z","id":"636063cd-6e2e-4467-a5bc-d72723bce238","last_log_message":"Reiciendis ut aliquid culpa.","name":"Distinctio architecto consequatur magnam repudiandae maxime error.","progress":91,"seq":1696058868987927013,"start_at":"1972-07-17T06:33:44Z","state":"pendding"}]}],"skip":0}},"CreateBranchPayload":{"title":"CreateBranchPayload","type":"object","properties":{"cluster_name":{"type":"string","description":"Cluster name that the branch will created from","example":"my_cluster"},"requestor":{"type":"string","description":"The user that request the branch","example":"iisraelly@wix.com","format":"email"},"snapshot_id":{"type":"string","description":"Snapshot image id that this branch will create from","example":"Image_4946347"},"team":{"type":"string","description":"The Team that this branch will create for","example":"Booking"},"type":{"type":"string","description":"The type of this branch","example":"dr","enum":["dev","dr"]}},"description":"CreateBranchPayload defind a new branch request","example":{"cluster_name":"my_cluster","requestor":"iisraelly@wix.com","snapshot_id":"Image_4946347","team":"Booking","type":"dr"},"required":["snapshot_id","team","cluster_name","requestor","type"]},"UpdateBranchPayload":{"title":"UpdateBranchPayload","type":"object","properties":{"comment":{"type":"string","description":"Comment of this operation","example":"Quia necessitatibus."},"operation":{"type":"string","description":"The operation to be done on the existing branch","example":"expire_now","enum":["extend_expiration","expire_now"]}},"description":"UpdateBranchPayload defind an update request on existing branch","example":{"comment":"Quia necessitatibus.","operation":"expire_now"},"required":["operation"]}},"responses":{"BadRequest":{"description":"Bad Request"},"SwitchingProtocols":{"description":"Switching Protocols"},"UnprocessableEntity":{"description":"Unprocessable Entity"}}}